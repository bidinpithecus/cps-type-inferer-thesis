\chapter{Proposta}\label{ch:proposta}

\citeonline{thielecke1997} propôs um sistema de tipos monomórfico para CPS que define um único construtor (chamado de negação poliádica) para representar continuações \cite{TORRENS2024}:

% Imagens foda latex

\[
    \textit{Types } \ \tau \ ::= \ \neg \vec{\tau} \ \mid \ X
\]
\[
    \textit{Environments } \ \Gamma ::= \cdot \mid \Gamma, x : \tau
\]

\[
\frac{
  \Gamma(k) = \neg \vec{\tau} 
  \quad \quad
  \Gamma(\vec{x}) = \vec{\tau}
}{
  \Gamma \vdash k\langle \vec{x} \rangle
} \quad (J)
\]

\[
\frac{
  \Gamma, k : \neg \vec{\tau} \vdash b
  \quad \quad
  \Gamma, \vec{x} : \vec{\tau} \vdash c
}{
  \Gamma \vdash b \{ k \langle \vec{x} \rangle = c \}
} \quad (B)
\]

Enquanto uma sentença de tipos no sistema Damas-Milner: $\Gamma \vdash \text{e:}\tau$ declara que a expressão \texttt{e} possui tipo $\tau$ no contexto $\Gamma$, uma sentença de tipos: $\Gamma \vdash \text{b}$ declara que no contexto de tipos $\Gamma$, \texttt{b} é consistente.
Portanto $\{\text{x:}\tau \text{, k:} \neg \tau\} \vdash \text{k}\langle \vec{x} \rangle$ estabelece que em um contexto em que \texttt{x} possui tipo $\tau$, \texttt{k} possui tipo $\neg \tau$, a expressão $\text{k}\langle \vec{x} \rangle$ não irá falhar \cite{thielecke1997}.
\citeonline{TORRENS2024} demonstram a segurança (\textit{type safety}) desse sistema, provando preservação e progresso, ou seja, qualquer expressão bem tipada não apresentará comportamento inesperado quando reduzida.

O presente trabalho tem com objetivo propor uma extensão ao sistema proposto por Thielecke, adicionando o suporte a tipos polimórficos de forma similar ao que ocorre no sistema Damas-Milner.
Fornecendo também um algoritmo de inferência de tipos.
Por uma questão de tempo disponível, a validação do resultado será feita apenas de forma empírica por meio de testes.

Os próximos passos do trabalho proposto envolvem a formalização do sistema de tipos, bem como o desenvolvimento de um algoritmo de inferência para esse sistema.
Por fim, serão realizados testes com expressões de tipos conhecidos para validar a implementação.
A seguir, apresenta-se o cronograma previsto para a próxima fase deste trabalho.

\begin{enumerate}
	\item Formalização do sistema de tipos;\label{enum-formalizacao-sistema-tipos}
	\item Formalização do algoritmo de inferência;\label{enum-formalizacao-algoritmo}
	\item Implementação em Haskell, conforme definido nas Etapas~\ref{enum-formalizacao-sistema-tipos} e~\ref{enum-formalizacao-algoritmo};
	\item Validação dos resultados.
\end{enumerate}

\begin{table}[htbp]
	\centering
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\textbf{\small{Etapas}}} & \textbf{\small{2024/1}} & \multicolumn{6}{c|}{\textbf{\small{2024/2}}} \\
		\cline{2-8}
		& \textbf{Dez} & \textbf{Jan} & \textbf{Fev} & \textbf{Mar} & \textbf{Abr} & \textbf{Maio} & \textbf{Jun} \\
		\hline
		\textbf{\small{1}}  & \cellcolor{gray} & \cellcolor{gray} & \cellcolor{gray} &  &  &  & \\
		\hline
		\textbf{\small{2}}  &  &  & \cellcolor{gray} & \cellcolor{gray} &  &  & \\
		\hline
		\textbf{\small{3}}  &  &  &  & \cellcolor{gray} & \cellcolor{gray} & \cellcolor{gray} & \\
		\hline
		\textbf{\small{4}}  &  &  &  &  &  & \cellcolor{gray} & \cellcolor{gray}\\
		\hline
	\end{tabular}
	\caption{Cronograma Proposto para o TCC2}
\end{table}
% \input{Textuais/Proposta/Formalizacao}
% \input{Textuais/Proposta/Implementacao}
% \input{Textuais/Proposta/Conclusao}
